# User Story: HR Resume Screener

**Как** HR-специалист,
**я хочу** автоматически отбирать резюме кандидатов,
**чтобы** ускорить процесс найма.

## Описание проекта
Анализирует резюме кандидатов и отбирает наиболее подходящие для вакансии.
Ссылка на артефакт [UserStory](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/01_UserStory.md)
___________________________________________________
# Макеты
![Макеты](05_BPMN_AIDE_HR.png)
Ссылка на артефакт [Макеты в Draw.io](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/02_Maket_01_HR.drawio)
Ссылка на программное обеспечение [Draw.io](https://www.drawio.com/)
___________________________________________________
# Use Case: Автоматический отбор резюме

## Основная информация
   Элемент | Описание |
 |--------|----------|
 | **Название** | Автоматический отбор резюме |
 | **Актор** | HR-специалист |
 | **Цель** | Ускорить процесс найма за счет автоматического отбора резюме |
 | **Предусловия** | HR-специалист авторизован в системе. В системе имеются резюме кандидатов и описания вакансий. |
 | **Постусловия** | Результаты отбора сохранены в системе. HR-специалист уведомлен о завершении процесса. |

## Основной сценарий
 | Шаг | Описание |
 |-----|----------|
 | 1 | HR-специалист запускает приложение автоматического отбора резюме. (МАКЕТ 1)|
 | 2 | Система отображает окно "HR Resume Screener". (МАКЕТ 2)|
 | 3 | HR-специалист нажимает "Активные вакансии". |
 | 4 | Система отображает окно "Активные вакансии". (МАКЕТ 3)| 
 | 5 | HR-специалист нажимает "Создать новую вакансию".|
 | 6 | Система отображает окно "Создание новой вакансии". (МАКЕТ 4)|
 | 7 | HR-специалист вводит критерии отбора специалиста и нажимает "Сохранить вакансию".|
 | 8 | Система отображает окно "Активные вакансии" с новой созданной вакансией. (МАКЕТ 5) |
 | 7 | HR-специалист нажимает "Подобрать специалиста".|
 | 8 | Система запрашивает резюме из базы данных по указанным критериям.|
 | 9 | Система выполняет предварительную фильтрацию резюме. |
 | 10 | Система передает отфильтрованные резюме в сервис AI анализа. |
 | 11 | AI анализирует резюме и присваивает рейтинги. |
 | 12 | Система ранжирует кандидатов по рейтингу. |
 | 13 | Система сохраняет результаты анализа в базе данных. |
 | 14 | Система уведомляет HR-специалиста о завершении процесса. (МАКЕТ 6)|
 | 15 | HR-специалист нажимает "ОК".| 
 | 16 | Система отображает результаты отбора кандидатов. (МАКЕТ 7)|
 | 17 | HR-специалист нажимает "Посмотреть резюме".| 
 | 18 | Система отображает "Резюме" выбранного специалиста. (МАКЕТ 8)|
 | 19 | HR-специалист нажимает "Анализировать резюме".| 
 | 20 | Система отображает "Анализ резюме" выбранного специалиста. (МАКЕТ 9)|
 | 21 | HR-специалист просматривает результаты отбора.|

## Альтернативные сценарии
 | Шаг | Описание |
 |-----|----------|
 | 7а.1 | HR-специалист вводит критерии отбора специалиста и нажимает "Сохранить вакансию".|
 | 7a.2 | Система предлагает использовать критерии по умолчанию.  (МАКЕТ 4а)|
 | 7а.3 | HR-специалист нажимает "ОК".| 
 | 7а.4 | Система переходит на шаг 8 "основного сценария"| 
 | 8a | Если в базе данных нет резюме, соответствующих критериям, система уведомляет HR-специалиста об отсутствии подходящих кандидатов. (МАКЕТ 4а)|


## Исключительные сценарии
 | Шаг | Описание |
 |-----|----------|
 | 2e | Если система недоступна, система отображает окно уведомления об ошибке. (Макет 2е)|
 | 8e | Если произошла ошибка при запросе к базе данных, система уведомляет HR-специалиста и предлагает повторить запрос. (МАКЕТ 8е)|
 | 11е | Если AI не может проанализировать резюме, система уведомляет HR-специалиста о необходимости ручного анализа. (МАКЕТ 11е)| 
 | 13e | Если произошла ошибка при сохранении результатов, система уведомляет HR-специалиста и предлагает повторить сохранение. (МАКЕТ 13е)|

Ссылка на артефакт [Use Case](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/03_UseCase.md)
______________________________________________________

## BPMN-диаграмма

![ BPMN](pictures/02_Maket_01_HR.png)
Ссылка на артефакт [BPMN](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/05_BPMN_01_HR.bpmn)
Ссылка на программное обеспечение [Cammunda](https://modeler.camunda.io/)

_____________________________________________________
# Архитектура

![Архитектура](pictures/06_Arch_01_HR.png)
Ссылка на артефакт [Архитектура в Draw.io]([https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/05_BPMN_01_HR.bpmn](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/06_Arch_01_HR.drawio))
Ссылка на программное обеспечение [Draw.io](https://www.drawio.com/)

______________________________________________________

# Модель данных HR Resume Screener

## Таблица: Кандидат (Candidate)

| Родительская сущность | Атрибут        | Описание                                  |
|-----------------------|---------------|------------------------------------------|
|                       | candidate_id  | Уникальный идентификатор кандидата (PK)  |
|                       | first_name    | Имя кандидата                            |
|                       | last_name     | Фамилия кандидата                        |
|                       | email         | Электронная почта кандидата (уникальная) |
|                       | phone         | Контактный телефон кандидата             |
|                       | created_at    | Дата и время создания записи             |

## Таблица: Резюме (Resume)

| Родительская сущность | Атрибут      | Описание                          |
|-----------------------|-------------|----------------------------------|
| Кандидат              | candidate_id | Ссылка на кандидата (FK)         |
|                       | resume_id    | Уникальный идентификатор резюме (PK) |
|                       | title        | Название/позиция резюме          |
|                       | summary      | Краткое описание/сводка          |
|                       | file_path    | Путь к файлу резюме              |
|                       | uploaded_at  | Дата и время загрузки            |

## Таблица: Навык (Skill)

| Родительская сущность | Атрибут   | Описание                      |
|-----------------------|----------|------------------------------|
| Резюме                | resume_id | Ссылка на резюме (FK)        |
|                       | skill_id  | Уникальный идентификатор навыка (PK) |
|                       | name      | Название навыка              |
|                       | level     | Уровень владения навыком     |

## Таблица: Опыт работы (Experience)

| Родительская сущность | Атрибут       | Описание                              |
|-----------------------|--------------|--------------------------------------|
| Резюме                | resume_id     | Ссылка на резюме (FK)                |
|                       | experience_id | Уникальный идентификатор опыта (PK)  |
|                       | company       | Название компании                    |
|                       | position      | Должность                            |
|                       | start_date    | Дата начала работы                   |
|                       | end_date      | Дата окончания работы                |
|                       | description   | Описание обязанностей и достижений   |

## Таблица: Образование (Education)

| Родительская сущность | Атрибут       | Описание                      |
|-----------------------|--------------|------------------------------|
| Резюме                | resume_id     | Ссылка на резюме (FK)        |
|                       | education_id  | Уникальный идентификатор образования (PK) |
|                       | institution   | Учебное заведение            |
|                       | degree        | Степень/квалификация         |
|                       | field_of_study| Направление обучения         |
|                       | start_date    | Дата начала обучения         |
|                       | end_date      | Дата окончания обучения      |

## Таблица: Вакансия (Vacancy)

| Родительская сущность | Атрибут     | Описание                              |
|-----------------------|------------|--------------------------------------|
|                       | vacancy_id  | Уникальный идентификатор вакансии (PK) |
|                       | title       | Название вакансии                    |
|                       | description | Описание вакансии                    |
|                       | department  | Отдел/подразделение                  |
|                       | status      | Статус вакансии (open/closed/on_hold) |
|                       | created_at  | Дата и время создания                |

## Таблица: Требование (Requirement)

| Родительская сущность | Атрибут         | Описание                      |
|-----------------------|----------------|------------------------------|
| Вакансия              | vacancy_id      | Ссылка на вакансию (FK)      |
|                       | requirement_id  | Уникальный идентификатор требования (PK) |
|                       | skill_name      | Требуемый навык              |
|                       | min_level       | Минимальный уровень навыка   |
|                       | min_experience_years | Требуемый опыт (в годах) |

## Таблица: Результат анализа (Analysis_Result)

| Родительская сущность | Атрибут       | Описание                              |
|-----------------------|--------------|--------------------------------------|
| Резюме                | resume_id     | Ссылка на анализируемое резюме (FK)  |
| Вакансия              | vacancy_id    | Ссылка на вакансию (FK)             |
|                       | analysis_id   | Уникальный идентификатор анализа (PK) |
|                       | match_score   | Процент соответствия (0-100)        |
|                       | strengths     | Сильные стороны кандидата           |
|                       | weaknesses    | Слабые стороны кандидата            |
|                       | recommendations | Рекомендации по кандидату         |
|                       | analyzed_at   | Дата и время проведения анализа     |


Ссылка на артефакт [Модель данных](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/07_Data_model.md)
_____________________________________________________
# ERD диаграмма

![ERD(DBeaver)](pictures/08_ERD_DBeaver.png)
Ссылка на артефакт [ERD(DBeaver)](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/08_ERD.md)
Ссылка на артефакт [SQL запрос на создание БД](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/08_ERD_SQL.sql)
Ссылка на программное обеспечение: <br> [Cammunda](https://modeler.camunda.io/) <br>  [pgAdmin 4](https://www.pgadmin.org/download/)
_____________________________________________________
# Sequence

![Sequence](pictures/09_sequence_plantUML.png)

Ссылка на артефакт [Sequence.svg](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/09_Sequense.svg)
Ссылка на программное обеспечение: [PlantUML](https://www.plantuml.com/plantuml/uml/SyfFKj2rKt3CoKnELR1Io4ZDoSa700001)  <br>  [Нотация PlantUML](https://plantuml.com/ru/starting)
_____________________________________________________

# REST API Спецификация для HR Resume Screener

## 1. Получение списка кандидатов

### Запрос
- **Метод:** `GET`
- **Эндпоинт:** `/candidates`

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `limit` | integer | query | Количество возвращаемых записей | Нет |
| `offset` | integer | query | Смещение для пагинации | Нет |

### Ответ (200 OK)

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `candidates` | array[object] | body | Список кандидатов | Да |
| `total_count` | integer | body | Общее количество кандидатов | Да |

---

## 2. Получение информации о кандидате

### Запрос
- **Метод:** `GET`
- **Эндпоинт:** `/candidates/{candidate_id}`

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `candidate_id` | integer | path | ID кандидата | Да |

### Ответ (200 OK)

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `candidate_id` | integer | body | ID кандидата | Да |
| `first_name` | string | body | Имя | Да |
| `last_name` | string | body | Фамилия | Да |
| `email` | string | body | Email | Да |
| `phone` | string | body | Телефон | Нет |
| `created_at` | string | body | Дата создания | Да |

---

## 3. Получение резюме кандидата

### Запрос
- **Метод:** `GET`
- **Эндпоинт:** `/candidates/{candidate_id}/resumes`

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `candidate_id` | integer | path | ID кандидата | Да |

### Ответ (200 OK)

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `resumes` | array[object] | body | Список резюме | Да |
| `resumes[].resume_id` | integer | body | ID резюме | Да |
| `resumes[].title` | string | body | Заголовок | Да |
| `resumes[].summary` | string | body | Краткое описание | Нет |

---

## 4. Анализ соответствия резюме вакансии

### Запрос
- **Метод:** `POST`
- **Эндпоинт:** `/vacancies/{vacancy_id}/analyze`

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `vacancy_id` | integer | path | ID вакансии | Да |
| `resume_id` | integer | body | ID резюме | Да |
| `analyze_skills` | boolean | body | Анализировать навыки | Нет (по умолчанию true) |
| `analyze_experience` | boolean | body | Анализировать опыт | Нет (по умолчанию true) |

### Ответ (200 OK)

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `analysis_id` | integer | body | ID анализа | Да |
| `match_score` | float | body | Процент соответствия | Да |
| `strengths` | array[string] | body | Сильные стороны | Да |
| `weaknesses` | array[string] | body | Слабые стороны | Да |
| `recommendations` | array[string] | body | Рекомендации | Да |

---

## 5. Создание новой вакансии

### Запрос
- **Метод:** `POST`
- **Эндпоинт:** `/vacancies`

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `title` | string | body | Название вакансии | Да |
| `description` | string | body | Описание | Да |
| `department` | string | body | Отдел | Нет |
| `requirements` | array[object] | body | Требования | Да |
| `requirements[].skill_name` | string | body | Навык | Да |
| `requirements[].min_level` | string | body | Минимальный уровень | Нет |
| `requirements[].min_experience` | integer | body | Минимальный опыт (лет) | Нет |

### Ответ (201 Created)
- Тело ответа пустое.

---

## 6. Получение результатов анализа

### Запрос
- **Метод:** `GET`
- **Эндпоинт:** `/analysis/{analysis_id}`

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `analysis_id` | integer | path | ID анализа | Да |

### Ответ (200 OK)

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `analysis_id` | integer | body | ID анализа | Да |
| `vacancy_id` | integer | body | ID вакансии | Да |
| `resume_id` | integer | body | ID резюме | Да |
| `candidate_name` | string | body | Имя кандидата | Да |
| `match_score` | float | body | Процент соответствия | Да |
| `analyzed_at` | string | body | Дата анализа | Да |

---

## 7. Поиск кандидатов по навыкам

### Запрос
- **Метод:** `GET`
- **Эндпоинт:** `/candidates/search`

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `skills` | array[string] | query | Список навыков | Да |
| `min_experience` | integer | query | Минимальный опыт (лет) | Нет |

### Ответ (200 OK)

| Название параметра | Тип данных | Находится в | Описание | Обязательность |
|--------------------|------------|-------------|----------|----------------|
| `candidates` | array[object] | body | Подходящие кандидаты | Да |
| `candidates[].candidate_id` | integer | body | ID кандидата | Да |
| `candidates[].match_percentage` | float | body | Процент соответствия | Да |

_____________________________________________________

# SWAGGER

![ SWAGGER ](swagger/12_Swagger_HR_01.png)
![ SWAGGER ](swagger/12_Swagger_HR_02.png)
![ SWAGGER ](swagger/12_Swagger_HR_03.png)
![ SWAGGER ](swagger/12_Swagger_HR_04.png)
![ SWAGGER ](swagger/12_Swagger_HR_05.png)
![ SWAGGER ](swagger/12_Swagger_HR_06.png)
![ SWAGGER ](swagger/12_Swagger_HR_07.png)
![ SWAGGER ](swagger/12_Swagger_HR_08.png)
![ SWAGGER ](swagger/12_Swagger_HR_09.png)

Ссылка на артефакт [Swagger.yaml](https://github.com/leanorac/IDE-BAS/blob/main/professional3.0/SAMPLE/11_swagger.yaml)
Ссылка на программное обеспечение [Swagger Editor](https://editor.swagger.io/)
_______________________________________________________

# Функциональные требования и критерии приемки для HR Resume Screener

## 1. Функциональные требования

### 1.1. Загрузка и хранение резюме

- **FR1.1.** Система должна позволять загружать резюме в форматах PDF, DOCX, TXT.
- **FR1.2.** Резюме должны храниться в структурированном виде (текст, навыки, опыт работы, образование).
- **FR1.3.** Каждое резюме должно быть привязано к кандидату (ФИО, контакты).

**Критерии приемки:**
- ✅ Проверка загрузки резюме в разных форматах.
- ✅ Проверка корректного парсинга данных (текст, навыки, опыт).
- ✅ Проверка связки резюме с профилем кандидата.

### 1.2. Создание и управление вакансиями

- **FR2.1.** HR-специалист может создавать вакансии с указанием:
  - Названия, описания, отдела.
  - Требований (навыки, минимальный опыт, уровень).
- **FR2.2.** Возможность редактирования и архивирования вакансий.

**Критерии приемки:**
- ✅ Создание вакансии с обязательными полями.
- ✅ Проверка сохранения требований (навыки + опыт).
- ✅ Проверка изменения статуса вакансии (открыта/закрыта).

### 1.3. Автоматический анализ резюме

- **FR3.1.** Система должна анализировать резюме на соответствие вакансии:
  - Сравнивать навыки кандидата с требованиями.
  - Оценивать опыт работы.
- **FR3.2.** Формировать отчет с:
  - Процентом соответствия (0–100%).
  - Сильными/слабыми сторонами.
  - Рекомендациями (например, "Пригласить на собеседование").

**Критерии приемки:**
- ✅ Проверка корректности сравнения навыков (например, Java → Java 8, Spring).
- ✅ Проверка расчета соответствия (если 8/10 требований = 80%).
- ✅ Проверка формирования отчета (текст + числовая оценка).

### 1.4. Ранжирование кандидатов

- **FR4.1.** Система должна сортировать кандидатов по:
  - Проценту соответствия (от высокого к низкому).
  - Опыту работы (если % совпадения одинаковый).
- **FR4.2.** Фильтрация по:
  - Навыкам.
  - Опыту (например, "5+ лет").
  - Статусу (новые/рассмотренные).

**Критерии приемки:**
- ✅ Проверка сортировки по % соответствия.
- ✅ Проверка фильтрации по навыку (например, "Python").
- ✅ Проверка отметки о статусе ("Рассмотрено HR").

### 1.5. Уведомления и интеграции

- **FR5.1.** Отправка уведомлений HR о:
  - Завершении анализа.
  - Новых резюме с высоким % соответствия.
- **FR5.2.** Интеграция с email (отправка писем кандидатам).

**Критерии приемки:**
- ✅ Проверка уведомления HR после анализа.
- ✅ Проверка отправки письма кандидату (например, "Ваше резюме рассмотрено").

## 2. Нефункциональные требования

- **Производительность:**
  - Анализ 1 резюме ≤ 5 сек.
  - Поддержка 100+ одновременных пользователей.
- **Безопасность:**
  - Данные кандидатов хранятся в зашифрованном виде.
  - Доступ только для авторизованных HR.
- **Масштабируемость:**
  - Возможность обработки 10 000+ резюме.

**Критерии приемки:**
- ✅ Тест скорости анализа (10 резюме за ≤ 50 сек).
- ✅ Проверка доступа без авторизации (должна быть блокировка).

## 3. Критерии приемки (итог)

| Функция | Критерий | Метод проверки |
|---------|----------|----------------|
| Загрузка резюме | Поддержка PDF/DOCX/TXT, парсинг данных | Тест разных форматов |
| Анализ соответствия | Точность сравнения навыков, расчет % | Ручная проверка отчетов |
| Ранжирование кандидатов | Сортировка по % и опыту, фильтрация | Тест с 50+ резюме |
| Уведомления | HR получает оповещение, кандидаты — письма | Проверка почты/системы |
| Производительность | <5 сек на анализ, 100+ пользователей | Нагрузочное тестирование |

Приемка считается успешной, если выполнены ≥95% критериев.
